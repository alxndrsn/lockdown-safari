<html>
  <head>
    <title>iOS Safari Feature Tester</title>
    <style>
      body { font-family:sans-serif }
      #container { max-width:768px; margin-left:auto; margin-right:auto }

      .loaded #loader { display:none }
      #content { display:none; margin-left:auto; margin-right:auto }
      .loaded #content { display:block }

      table { border-collapse:collapse; margin-left:auto; margin-right:auto }
      thead { font-weight:bold }
      tbody { font-family:monospace }
      td { padding:4px; border:solid #ccc 1px }
    </style>
  </head>
  <body>
    <div id="container">
      <div>
        For documentation, see: <a href="https://github.com/alxndrsn/lockdown-safari">https://github.com/alxndrsn/lockdown-safari</a>.
      </div>
      <div id="loader"><h2>Loading...</h2></div>
      <div id="content">
        <table>
          <thead>
            <td>Feature</td><td>Global</td><td>Type</td>
          </thead>
          <tbody>
          </tbody>
        </table>
      </div>
    </div>

    <script>
      const possibleGlobals = {
        WASM: [
          'WebAssembly',
        ],
        WebGL: [
          'WebGLRenderingContext',
          'WebGL2RenderingContext',
          'WebGLActiveInfo',
          'WebGLBuffer',
          'WebGLContextEvent',
          'WebGLFramebuffer',
          'WebGLProgram',
          'WebGLQuery',
          'WebGLRenderbuffer',
          'WebGLSampler',
          'WebGLShader',
          'WebGLShaderPrecisionFormat',
          'WebGLSync',
          'WebGLTexture',
          'WebGLTransformFeedback',
          'WebGLUniformLocation',
        ],
        IndexedDB: [ // https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API
          'IDBCursor',
          'IDBCursorWithValue',
          'IDBDatabase',
          'IDBFactory',
          'IDBIndex',
          'IDBKeyRange',
          'IDBObjectStore',
          'IDBOpenDBRequest',
          'IDBRequest',
          'IDBTransaction',
          'IDBVersionChangeEvent',
        ],
        'File API': [ // https://developer.mozilla.org/en-US/docs/Web/API/File_API
          'Blob',
          'File',
          'FileList',
          'FileReader',
          'FileReaderSync',
        ],
        'Web Speech API': [ // https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API
          'SpeechGrammar',
          'Deprecated',
          'SpeechGrammarList',
          'Deprecated',
          'SpeechRecognition',
          'SpeechRecognitionAlternative',
          'SpeechRecognitionErrorEvent',
          'SpeechRecognitionEvent',
          'SpeechRecognitionPhrase',
          'Experimental',
          'SpeechRecognitionResult',
          'SpeechRecognitionResultList',
          'SpeechSynthesis',
          'SpeechSynthesisErrorEvent',
          'SpeechSynthesisEvent',
          'SpeechSynthesisUtterance',
          'SpeechSynthesisVoice',
        ],
        'Web Locks API': [ // https://developer.mozilla.org/en-US/docs/Web/API/Web_Locks_API
          'Lock',
          'LockManager',
        ],
        'Experimental APIs': [
          'Accelerometer',
          'AmbientLightSensor',
          'AudioSinkInfo',
          'BackgroundFetchEvent',
          'BackgroundFetchManager',
          'BackgroundFetchRecord',
          'BackgroundFetchRegistration',
          'BackgroundFetchUpdateUIEvent',
          'BarcodeDetector',
          'BeforeInstallPromptEvent',
          'Bluetooth',
          'BluetoothCharacteristicProperties',
          'BluetoothDevice',
          'BluetoothRemoteGATTCharacteristic',
          'BluetoothRemoteGATTDescriptor',
          'BluetoothRemoteGATTServer',
          'BluetoothRemoteGATTService',
          'BrowserCaptureMediaStreamTrack',
          'CanMakePaymentEvent',
          'CaptureController',
          'ChapterInformation',
          'CharacterBoundsUpdateEvent',
          'CloseWatcher',
          'ContactAddress',
          'ContactsManager',
          'ContentIndex',
          'ContentIndexEvent',
          'CreateMonitor',
          'CropTarget',
          'CSSFunctionDeclarations',
          'CSSFunctionDescriptors',
          'CSSFunctionRule',
          'CSSPseudoElement',
          'DeferredRequestInit',
          'DelegatedInkTrailPresenter',
          'DeprecationReportBody',
          'DevicePosture',
          'DocumentPictureInPicture',
          'DocumentPictureInPictureEvent',
          'EditContext',
          'EyeDropper',
          'FeaturePolicy',
          'FederatedCredential',
          'Fence',
          'FencedFrameConfig',
          'FetchLaterResult',
          'FileSystemObserver',
          'FontData',
          'GamepadPose',
          'HID',
          'HIDConnectionEvent',
          'HIDDevice',
          'HIDInputReportEvent',
          'HTMLFencedFrameElement',
          'HTMLSelectedContentElement',
          'IdentityCredential',
          'IdentityCredentialError',
          'IdentityCredentialRequestOptions',
          'IdentityProvider',
          'IdleDetector',
          'Ink',
          'InputDeviceCapabilities',
          'InterventionReportBody',
          'Keyboard',
          'KeyboardLayoutMap',
          'LanguageDetector',
          'LaunchParams',
          'LaunchQueue',
          'LayoutShift',
          'LayoutShiftAttribution',
          'Magnetometer',
          'MediaStreamTrackGenerator',
          'Metadata',
          'NavigateEvent',
          'Navigation',
          'NavigationActivation',
          'NavigationCurrentEntryChangeEvent',
          'NavigationDestination',
          'NavigationHistoryEntry',
          'NavigationTransition',
          'NavigatorUAData',
          'NDEFMessage',
          'NDEFReader',
          'NDEFReadingEvent',
          'NDEFRecord',
          'NotRestoredReasonDetails',
          'NotRestoredReasons',
          'OTPCredential',
          'PaintWorkletGlobalScope',
          'PasswordCredential',
          'PaymentManager',
          'PaymentRequestEvent',
          'PerformanceElementTiming',
          'PerformanceLongAnimationFrameTiming',
          'PerformanceLongTaskTiming',
          'PerformanceScriptTiming',
          'PeriodicSyncEvent',
          'PeriodicSyncManager',
          'Presentation',
          'PresentationAvailability',
          'PresentationConnection',
          'PresentationConnectionAvailableEvent',
          'PresentationConnectionCloseEvent',
          'PresentationConnectionList',
          'PresentationReceiver',
          'PresentationRequest',
          'PressureObserver',
          'PressureRecord',
          'Profiler',
          'QuotaExceededError',
          'RestrictionTarget',
          'RTCIdentityAssertion',
          'Sanitizer',
          'SanitizerConfig',
          'Scheduling',
          'ScreenDetailed',
          'ScreenDetails',
          'Serial',
          'SerialPort',
          'SharedStorage',
          'SharedStorageOperation',
          'SharedStorageRunOperation',
          'SharedStorageSelectURLOperation',
          'SharedStorageWorklet',
          'SharedStorageWorkletGlobalScope',
          'SnapEvent',
          'SpeechRecognitionPhrase',
          'Summarizer',
          'TaskAttributionTiming',
          'TextFormat',
          'TextFormatUpdateEvent',
          'TextUpdateEvent',
          'Translator',
          'USB',
          'USBAlternateInterface',
          'USBConfiguration',
          'USBConnectionEvent',
          'USBDevice',
          'USBEndpoint',
          'USBInterface',
          'USBInTransferResult',
          'USBIsochronousInTransferPacket',
          'USBIsochronousInTransferResult',
          'USBIsochronousOutTransferPacket',
          'USBIsochronousOutTransferResult',
          'USBOutTransferResult',
          'VideoTrackGenerator',
          'Viewport',
          'VirtualKeyboard',
          'VisibilityStateEntry',
          'WebGLObject',
          'WebSocketStream',
          'WebTransportReceiveStream',
          'WebTransportSendStream',
          'WindowControlsOverlay',
          'WindowControlsOverlayGeometryChangeEvent',
          'WindowSharedStorage',
          'WorkletSharedStorage',
          'XRAnchor',
          'XRAnchorSet',
          'XRBoundedReferenceSpace',
          'XRCompositionLayer',
          'XRCPUDepthInformation',
          'XRCubeLayer',
          'XRCylinderLayer',
          'XRDepthInformation',
          'XREquirectLayer',
          'XRFrame',
          'XRHitTestResult',
          'XRHitTestSource',
          'XRInputSourceArray',
          'XRLayer',
          'XRLayerEvent',
          'XRLightEstimate',
          'XRLightProbe',
          'XRMediaBinding',
          'XRProjectionLayer',
          'XRQuadLayer',
          'XRRay',
          'XRRenderState',
          'XRSession',
          'XRSubImage',
          'XRSystem',
          'XRTransientInputHitTestResult',
          'XRTransientInputHitTestSource',
          'XRView',
          'XRWebGLBinding',
          'XRWebGLDepthInformation',
          'XRWebGLLayer',
          'XRWebGLSubImage',
        ],
      };

      const $tbody = document.querySelector('tbody');
      for(const [ feature, props ] of Object.entries(possibleGlobals)) {
        for(const prop of props) {
          const $row = $tbody.insertRow();
          const addCell = txt => {
            const $cell = $row.insertCell();
            $cell.textContent = txt;
          }
          addCell(feature);
          addCell(`window.${prop}`);
          addCell(typeof window[prop]);
        }
      }

      document.getElementById('container').classList.add('loaded');
    </script>
  </body>
</html>
